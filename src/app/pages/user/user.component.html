<div class="mainContent">
  <nav class="otherpartofPage">
    <p-button
      label="Add New User"
      styleClass="p-button-raised p-button-success"
      routerLink="/addUser"
    ></p-button>
  </nav>
  <br />
  <div class="card">
    <p-table
      [value]="allUsers"
      [paginator]="true"
      [rows]="10"
      [showCurrentPageReport]="true"
      [tableStyle]="{ 'min-width': '50rem' }"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[10, 15, 20, 30, 50]"
      [globalFilterFields]="[
        'name',
        'lastName',
        'username',
        'email',
        'phoneNumber',
        'gender',
        'userRoleName',
      ]"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="name" style="width: 20%">
            Name <p-sortIcon field="name"></p-sortIcon>
          </th>
          <th pSortableColumn="lastName" style="width: 20%">
            Last Name <p-sortIcon field="lastName"></p-sortIcon>
          </th>
          <th pSortableColumn="username" style="width: 20%">
            Username <p-sortIcon field="username"></p-sortIcon>
          </th>
          <th pSortableColumn="email" style="width: 20%">
            Email <p-sortIcon field="email"></p-sortIcon>
          </th>
          <th pSortableColumn="phoneNumber" style="width: 20%">
            Phone <p-sortIcon field="phoneNumber"></p-sortIcon>
          </th>
          <th pSortableColumn="userRoleName" style="width: 20%">
            User Role <p-sortIcon field="userRoleName"></p-sortIcon>
          </th>
          <th style="width: 20%; vertical-align: middle; text-align: center">
            Action
          </th>
        </tr>
        <tr>
          <th>
            <p-columnFilter type="text" field="name"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="lastName"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="username"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="email"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="phoneNumber"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="userRoleName"></p-columnFilter>
          </th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td>{{ user.name }}</td>
          <td>{{ user.lastName }}</td>
          <td>{{ user.userName }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.phoneNumber }}</td>
          <td>{{ user.userRoleName }}</td>
          <td style="width: 20%; vertical-align: middle; text-align: center">
            <p-button
              label="Edit"
              styleClass="p-button-raised p-button-info"
              [routerLink]="['/editExistingUser']"
              [queryParams]="{ userId: user.id, action: 'update' }"
            ></p-button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
